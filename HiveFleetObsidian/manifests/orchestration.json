{
  "modes": [
    {
      "id": "pinch_mvp",
      "description": "Deterministic palm/orientation-gated pinch pipeline",
      "entry": "n_source",
      "nodes": [
        {
          "id": "n_source",
          "kind": "source",
          "config": {
            "topic": "camera.frames"
          }
        },
        {
          "id": "n_filter",
          "kind": "transform",
          "config": {
            "smoothing": "OneEuro",
            "hysteresis": true
          }
        },
        {
          "id": "n_predict",
          "kind": "transform",
          "config": {
            "lookahead": "kalman",
            "tti": true,
            "quantize": "musical"
          }
        },
        {
          "id": "n_pinch",
          "kind": "transform",
          "config": {
            "fsm": "pinch",
            "telemetry": true
          }
        },
        {
          "id": "n_sink",
          "kind": "sink",
          "config": {
            "topic": "events.pinch"
          }
        }
      ],
      "edges": [
        {
          "from": "n_source",
          "to": "n_filter"
        },
        {
          "from": "n_filter",
          "to": "n_predict"
        },
        {
          "from": "n_predict",
          "to": "n_pinch"
        },
        {
          "from": "n_pinch",
          "to": "n_sink"
        }
      ]
    }
  ],
  "agents": [
    {
      "id": "scribe",
      "description": "Scribe/advisor",
      "model": "neutral",
      "toolsAllowed": [
        "catalog",
        "verify"
      ]
    }
  ],
  "tools": [
    {
      "id": "catalog",
      "kind": "node",
      "entry": "HiveFleetObsidian/tools/hfo_ship_index.mjs"
    },
    {
      "id": "verify",
      "kind": "process",
      "entry": "npm",
      "args": [
        "run",
        "hive:freeze:verify"
      ],
      "timeoutMs": 600000
    }
  ],
  "io": {
    "topics": [
      "camera.frames",
      "events.pinch"
    ]
  },
  "env": {
    "requires": [
      "LLM_API_KEY",
      "TELEMETRY_ENDPOINT"
    ]
  }
}