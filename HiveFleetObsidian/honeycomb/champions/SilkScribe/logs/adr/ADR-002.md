---
adr_id: ADR-002
title: Phaser (2D) as primary engine; Babylon/three-vrm for later 3D/avatars
status: Accepted
date: 2025-09-20
owners: [Tom Tai]
tags: [engine, web, performance]
guard: SIM_TRIPWIRE: initial load > 5 MB OR time-to-first-play > 5 s on mid phones
flag: FEATURE_FLAG: engine.phaser_v1
context: |
  Need to ship many tiny games fast, run well on mid-range phones/Chromebooks,
  PWA-friendly, minimal download size.
decision: |
  - Use Phaser for all Tier A/B microgames.
  - Reserve Babylon/three-vrm for mirror/avatars in a separate "lab" route.
  - Avoid Unity WebGL for now due to bundle size and startup costs.
consequences: |
  + Small bundles, quick iteration, easy web distribution.
  - Complex 3D deferred until avatar phase.
alternatives_considered:
  - Godot Web export: heavier; good later for native.
  - PlayCanvas: strong option for 3D; keep as alt path.
metrics:
  success:
    - First interactive < 3 s on Chromebook; total bundle < 2.5 MB (gz).
  tripwires:
    - If perf drops below 30 FPS median -> simplify scenes or reduce effects.
rollout_plan: |
  engine.phaser_v1 default. Keep /lab route for avatar experiments with separate bundles.
notes: |
  Sprite atlas + texture compression; lazy-load per mini-game.
---
