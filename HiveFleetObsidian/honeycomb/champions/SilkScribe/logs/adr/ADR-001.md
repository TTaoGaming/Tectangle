---
adr_id: ADR-001
title: MediaPipe Gesture Recognizer + Open-Palm->Gesture->Open-Palm FSM
status: Accepted
date: 2025-09-20
owners: [Tom Tai]
tags: [input, stability, research]
guard: SIM_TRIPWIRE: false-fire rate > 1%/min OR missed-fire > 2%/min over 5-min session
flag: FEATURE_FLAG: controller.gesture_v1
ttl: 2025-10-11
context: |
  We need a stable, low-latency, web-first controller for one-button mini-games,
  with research-grade logging. We want minimal glue, mid-range phone support,
  and easy multiplayer.
decision: |
  - Use MediaPipe Gesture Recognizer for discrete labels + scores (+ landmarks).
  - Enforce OPO clutch: Open_Palm -> AllowedGesture -> Open_Palm with K-frame debounce,
    0.8/0.6 hysteresis, and 180 ms cooldown.
  - Treat Recognizer output as a black-box sensor; FSM decides when actions fire.
consequences: |
  + Fast to ship; robust against flicker; easy 2-4 player support via screen zones.
  + Research-grade possible via world landmarks logging.
  - Pinch phases/analogs need Landmarker; can add later.
alternatives_considered:
  - Hand Landmarker only: more control but more heuristics day-one.
  - Full IK day-one: high effort; not needed for one-button MVP.
metrics:
  success:
    - Median FPS >= 30 on Pixel 7a/Chromebook.
    - False-fire < 1%/min, missed-fire < 2%/min in playtests (n>=10).
  tripwires:
    - If QoS fails on two devices -> tighten K/thresholds or reduce camera res to 480p/30.
rollout_plan: |
  Flagged rollout controller.gesture_v1 -> 100% web arcade after 24h canary.
  Keep controller.landmarker_v0 behind dev flag for pinch experiments.
notes: |
  Keep per-player allowlists to avoid stream collisions; zone claim expires after 1s no-hand.
---
