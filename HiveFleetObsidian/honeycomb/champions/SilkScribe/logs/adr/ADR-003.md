---
adr_id: ADR-003
title: Research-grade logging of world landmarks + FSM state
status: Accepted
date: 2025-09-20
owners: [Tom Tai]
tags: [research, telemetry, privacy]
guard: SIM_TRIPWIRE: logs exceed 5 MB/min OR PII present
flag: FEATURE_FLAG: logging.world_landmarks_v1
context: |
  We want publishable, reproducible data while keeping gameplay smooth and private.
decision: |
  - Log per frame: {t, player, fps, gesture, score, fsm_state, landmarks_world[21]}.
  - Rotate JSON file every N minutes; add "Download Logs" button.
  - No video stored; opt-in toggle; anonymized session IDs.
consequences: |
  + Ready for analysis/IK later; privacy-respecting.
  - Slight CPU/memory overhead; mitigated with throttled writes.
alternatives_considered:
  - No logging: loses research value.
  - Full video capture: heavy + privacy risk.
metrics:
  success:
    - Logging overhead < 10% CPU; no dropped frames spikes; opt-in > 50% testers.
  tripwires:
    - If size > 5 MB/min -> reduce frequency to 15 Hz or compress.
rollout_plan: |
  Canary at 10% users; monitor FPS and file size; expand to 100% if stable.
notes: |
  Add calibration snapshot (hand span) for bone ratio normalization.
---
