{"adr_id":"ADR-001","title":"MediaPipe Gesture Recognizer + OPO FSM","status":"Accepted","date":"2025-09-20","owners":["Tom Tai"],"tags":["input","stability","research"],"guard":"false-fire \u003e1%/min OR missed-fire \u003e2%/min","flag":"controller.gesture_v1","ttl":"2025-10-11","context":"Stable, low-latency web controller for one-button games with research logging.","decision":["Use Gesture Recognizer for discrete labels + scores + landmarks.","Enforce OPO clutch: Open_Palm -\u003e Gesture -\u003e Open_Palm with debounce, hysteresis, cooldown.","FSM owns firing rules; recognizer treated as sensor."],"consequences":["Fast to ship; robust against flicker; multiplayer via screen zones.","Research-grade logging path unlocked.","Pinch analog requires Landmarker later."],"alternatives_considered":["Hand Landmarker only (more heuristics day one).","Full IK day one (high effort)."],"metrics":{"success":["FPS \u003e= 30 on Pixel 7a/Chromebook.","False-fire \u003c1%/min, missed-fire \u003c2%/min (n\u003e=10)."],"tripwires":["If QoS fails on two devices -\u003e tighten thresholds or drop res to 480p/30."]},"rollout_plan":"Flagged rollout controller.gesture_v1 -\u003e 100% after 24h canary; keep landmarker behind dev flag.","notes":"Per-player allowlists; zone claim expires after 1s no-hand."}
{"adr_id":"ADR-002","title":"Phaser primary; Babylon/three-vrm later","status":"Accepted","date":"2025-09-20","owners":["Tom Tai"],"tags":["engine","web","performance"],"guard":"initial load \u003e5 MB OR TTFP \u003e5 s on mid phones","flag":"engine.phaser_v1","context":"Ship many microgames fast on mid hardware with PWA-friendly bundles.","decision":["Use Phaser for Tier A/B microgames.","Reserve Babylon/three-vrm for mirror/avatars in lab route.","Avoid Unity WebGL for now."],"consequences":["Small bundles, quick iteration, easy distribution.","3D deferred until avatar phase."],"alternatives_considered":["Godot Web export (heavier).","PlayCanvas (keep as alternative path)."],"metrics":{"success":["First interactive \u003c3 s on Chromebook.","Total bundle \u003c2.5 MB gz."],"tripwires":["If FPS \u003c30 median -\u003e simplify scenes or effects."]},"rollout_plan":"engine.phaser_v1 default; keep /lab route for avatar experiments.","notes":"Sprite atlas + texture compression; lazy-load per mini-game."}
{"adr_id":"ADR-003","title":"Research-grade logging","status":"Accepted","date":"2025-09-20","owners":["Tom Tai"],"tags":["research","telemetry","privacy"],"guard":"logs exceed 5 MB/min OR PII present","flag":"logging.world_landmarks_v1","context":"Publishable, reproducible data while keeping gameplay smooth and private.","decision":["Log per frame: t, player, fps, gesture, score, fsm_state, landmarks_world[21].","Rotate JSON every N minutes; add Download Logs button.","Opt-in, anonymized session IDs; no video stored."],"consequences":["Analysis/IK ready; privacy-respecting.","Slight CPU/memory overhead but mitigated via throttled writes."],"alternatives_considered":["No logging (lose research value).","Full video capture (heavy, privacy risk)."],"metrics":{"success":["Logging overhead \u003c10% CPU.","Opt-in \u003e50% testers; no dropped frame spikes."],"tripwires":["If size \u003e5 MB/min -\u003e reduce to 15 Hz or compress."]},"rollout_plan":"Canary at 10%; monitor FPS/file size; expand when stable.","notes":"Add calibration snapshot (hand span) for bone ratio normalization."}
{"adr_id":"ADR-004","title":"Free arcade; PWYW cosmetics only","status":"Accepted","date":"2025-09-20","owners":["Tom Tai"],"tags":["business","monetization","safety"],"guard":"any gameplay-affecting item enters storefront","flag":"store.cosmetics_pwyw_v1","context":"Keep arcade free and family-safe while covering costs via optional support.","decision":["Core games free; cosmetics optional.","PWYW checkout; static hosting; avoid servers.","Manual review and safe prompts for packs."],"consequences":["Mission aligned; low ops complexity.","Revenue uncertain; rely on goodwill."],"alternatives_considered":["Ads (privacy/UX issues).","Paywall (excludes families)."],"metrics":{"success":["\u003e5% cosmetic attach OR \u003e=$100/mo voluntary support."],"tripwires":["Conversion \u003c1% after 3 months -\u003e revisit packs/bundles."]},"rollout_plan":"Launch 3 themed packs; PWYW via Stripe; optional thank-you wall.","notes":"Track conversion by theme; A/B banner copy; avoid dark patterns."}
{"adr_id":"ADR-005","title":"Evo-Factory (MAP-Elites)","status":"Proposed","date":"2025-09-20","owners":["Tom Tai"],"tags":["evolutionary","automation","content"],"guard":"variants failing QoS ship path (FPS\u003c30 or QoS miss \u003e2%/min)","flag":"evo.factory_v0","context":"Scale content via guided evolution while protecting quality.","decision":["Define GameSpec knobs (gravity, spawn, FSM thresholds, windows).","Mutate within safe bounds; evaluate via fitness proxies and MAP-Elites.","Auto-promote winners only after QoS gates."],"consequences":["Scales variety; explores design space.","Requires guardrails to avoid low-quality variants."],"alternatives_considered":["Manual curation only (slow).","RL agents (heavier infra, later)."],"metrics":{"success":["\u003e=10% promotable variants per batch.","Winner session length +20% vs baseline."],"tripwires":["If winners regress QoS -\u003e tighten bounds or adjust fitness."]},"rollout_plan":"Offline tool; manual review; nightly batch with canary.","notes":"Log specs with variant IDs; enable rollback of any promoted variant."}
