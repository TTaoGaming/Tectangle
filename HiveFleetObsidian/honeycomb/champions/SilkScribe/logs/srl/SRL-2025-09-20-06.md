---
srl_id: SRL-2025-09-20-06
date: 2025-09-20
focus: Gesture→Touch controller adapters plan
hypotheses:
  - Composing MediaPipe + XState + predictor sidecar can deliver touch-like controls with minimal net-new code.
  - Golden MP4 replay with JSONL diffs will keep regressions visible even on offline-first hardware.
observations: |
  Drafted architecture: MediaPipe InputAdapter → GateFSM (O-P-O clutch) → predictor sidecar → TouchSynth (XState statechart) → event bus → tools/telemetry. Touch semantics cover tap, double tap, hold, drag, cancel. Predictor uses score slope + confirm window to issue PREPARE_DOWN and rollback on miss. Telemetry captured as JSONL (t,x,y,type,state,label,score,predicted,fps). Golden harness replays MP4s and tolerates ±30 ms / ±5 px drift.
decisions: |
  Record plan as adapters-only build spec; treat as blueprint for the offline touch PWA. CI to include golden replay, bundle budget, and artifact uploads.
next_actions:
  - Size the predictor sidecar (ring buffer, slope) and expose config knobs.
  - Prototype TouchSynth XState chart with unit timer tests.
  - Assemble sample MP4 + golden JSONL for CI baseline.
metrics_snapshot:
  fps_median: TBD
  false_fire_per_min: TBD
  missed_fire_per_min: TBD
notes: |
  Config knobs: response_lead_ms, confirm_window_ms, hold_ms, double_tap_ms, drag_threshold_px, tap_max_ms, quantize_on, bpm, grid. Repo layout includes controllers/, tools/, ui/, telemetry/, fixtures/.
---
