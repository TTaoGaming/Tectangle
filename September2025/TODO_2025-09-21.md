---
when: 2025-09-21
owner: @you
status: active
ttl: 2025-09-28
purpose: Adopt-first slice to maximize leverage (phone-first gesture platform)
---
# Daily To Do — 2025-09-21 (Adopt-first)

## What we’re building (memory roll-up)

- Tectangle: phone-first, web-based gesture platform converting hand pinches into clean inputs (keyboard/gamepad), with local multiplayer (up to 4 hands) and fast feel on mid-range phones/Chromebooks.
- Signal: MediaPipe Hands → 21 landmarks → pinch detection + predictive look-ahead (time-to-impact). Priority: “feels snappy”.
- Ergonomics: Open-Palm → GESTURE → Open-Palm; One-Euro smoothing; safety bubbles; raw vs smoothed viz.
- Timing: Tone.js for scheduled/quantized triggers (negative-latency feel).
- QA: Puppeteer E2E; golden MP4 tests; Jest visual snapshots; Husky hooks; daily CI.
- Product: 1-button mini-games; PWA → Android (TWA); WebRTC (local) party modes; adopt > adapt > invent.

## Adopt-first stack (today’s focus)

- Input/Timing: MediaPipe Gesture Recognizer (Web/JS); XState gate (debounce/cooldown/min-hold); One-Euro filter; ring-buffer TtC; Tone.js scheduling.
- UI/App shell: React + one (Material Web or Tailwind). PWA basics. Optional Three.js only if needed.
- Packaging: Web first → Android via TWA; bridge gesture→keyboard/gamepad.
- Multiplayer: WebRTC (local) with minimal schema (events + ts).
- Observability: OpenTelemetry Web SDK + golden MP4 telemetry; SRLs + ADRs (short).
- Testing/CI: Puppeteer E2E; Jest snapshots; goldens; Husky; daily CI. Pre-push = lint+typecheck+tests.

## Gaps (quick fixes)

- Repo hygiene: add CONTRIBUTING.md; standard scripts (lint, typecheck, test:e2e, test:golden); PR template with metric/tripwire/revert.
- Dual-viz: overlay showing raw vs smoothed landmarks + gate state.
- Safety bubbles: thresholds/forgiveness zones in XState chart.

## 7-step “do today” checklist

1) Choose UI stack (Material Web or Tailwind) and record decision in ADR.
2) Ship Dual-Viz overlay (raw vs smoothed + gate state) behind a feature flag.
3) Finalize XState gate with hysteresis + cooldowns; add WEBWAY markers + revert.
4) Add Tone.js scheduling and a tiny demo page to A/B scheduled vs immediate.
5) Build Gesture→Keyboard/Gamepad bridge module with a small contract and demo.
6) Add OpenTelemetry basic page + custom gesture events (latency, confidence).
7) Tighten CI: pre-push hooks for lint+typecheck+tests; add a flaky-test label.

## Guards & acceptance

- Open_Palm idle guard: `npm run -s hex:openpalm:idle` + validate + JSONL check must pass.
- Camera wrist-label state: smoke FPS>0 and state === recognizer top label.
- Visual goldens: no drift on Jest snapshots unless `VISUAL_UPDATE=1`.

## Next concrete steps (today)

- [ ] Run composite guard: `npm run -s hex:guard:openpalm+camera`
- [ ] Create Dual-Viz overlay stub (feature-flagged) and capture one screenshot
- [ ] Sketch XState gate (yaml or json) + add inspect link; land as pending tests
- [ ] Draft CONTRIBUTING.md + PR template; wire pre-push (lint+test) script
- [ ] Add minimal OpenTelemetry init + one custom gesture event

## Revert path

- Flip off feature flags; remove WEBWAY-marked diffs; keep v13 console frozen fallback.

## Notes

- Keep modules small and reversible; adopt standards and proven engines; avoid bespoke unless unavoidable.
