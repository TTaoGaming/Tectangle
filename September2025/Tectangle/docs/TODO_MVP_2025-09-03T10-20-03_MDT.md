# Tectangle — MVP TODO & Narrow-Scope Plan

**Date (local):** 2025-09-03 10:20:03 MDT  
**Date (UTC):** 2025-09-03T16:20:03Z

Summary
Focus: get a deterministic, palm-gated index↔thumb pinch working end-to-end using the existing managers in src as the source-of-truth.

Top MVP Objective
- Build a single, reliable index↔thumb pinch (palm-gated) that is canonical for downstream features.

Today's Top Objectives (priority order)
- [ ] Stabilize a single pinch detection path (index↔thumb) using the existing manager stack.
- [ ] Validate raw input and smoothing pipeline (Camera → LandmarkRaw → LandmarkSmooth → KinematicClamp).
- [ ] Ensure telemetry and a minimal UI knob (knuckle-span default 8cm) surface for tuning and visibility.
- [ ] Make the existing pinch manager the canonical source-of-truth and add a unit test.

Tasks (concrete, 2–4 hour chunks)
1. [ ] Branch & archive (2–4h)
   - Create a feature branch and snapshot old gesture/managers/telemetry folders into archive for later consolidation. Suggested branch: `feat/pinch-mvp-20250903`.
2. [ ] Validate CameraManager (2–3h)
   - Confirm frame resolution, fps, and mirror/orientation metadata are stable and exposed for downstream scaling. Audit: [`September2025/Tectangle/src/CameraManager.js`](September2025/Tectangle/src/CameraManager.js:1).
3. [ ] Validate LandmarkRaw output (2–4h)
   - Ensure [`September2025/Tectangle/src/LandmarkRawManager.js`](September2025/Tectangle/src/LandmarkRawManager.js:1) emits an array of 21 landmarks per hand (x,y,z or nulls); add a golden-trace shape check.
4. [ ] Wire LandmarkSmooth into pipeline (2–4h)
   - Connect [`September2025/Tectangle/src/LandmarkSmoothManager.js`](September2025/Tectangle/src/LandmarkSmoothManager.js:1) to consume LandmarkRaw and emit smoothed landmarks; add a quick console/visual smoke check.
5. [ ] Quick KinematicClamp test (2–4h)
   - Run a short plausibility clamp to remove teleportation spikes using [`September2025/Tectangle/src/KinematicClampManager.js`](September2025/Tectangle/src/KinematicClampManager.js:1); verify fingertip continuity.
6. [ ] Wire PinchRecognitionManager as canonical SOT (2–4h)
   - Integrate the existing pinch manager as the single emitter: [`September2025/Tectangle/src/managers/PinchManager.js`](September2025/Tectangle/src/managers/PinchManager.js:1); dedupe other emitters.
7. [ ] Add telemetry counter & golden logging (2–3h)
   - Implement `telemetry.pinch.count` and JSONL golden trace hooks in [`September2025/Tectangle/src/telemetry/pinchTelemetry.js`](September2025/Tectangle/src/telemetry/pinchTelemetry.js:1).
8. [ ] Add single UI knob: knuckle-span (2–3h)
   - Expose "knuckle span (cm)" in the UI, default to 8 cm, and surface current value in the status bar for inspection.

Manager Audit
- CameraManager — [`September2025/Tectangle/src/CameraManager.js`](September2025/Tectangle/src/CameraManager.js:1)
- LandmarkRawManager — [`September2025/Tectangle/src/LandmarkRawManager.js`](September2025/Tectangle/src/LandmarkRawManager.js:1)
- LandmarkSmoothManager — [`September2025/Tectangle/src/LandmarkSmoothManager.js`](September2025/Tectangle/src/LandmarkSmoothManager.js:1)
- KinematicClampManager — [`September2025/Tectangle/src/KinematicClampManager.js`](September2025/Tectangle/src/KinematicClampManager.js:1)
- PinchManager (use existing as source of truth) — [`September2025/Tectangle/src/managers/PinchManager.js`](September2025/Tectangle/src/managers/PinchManager.js:1)
- pinchTelemetry — [`September2025/Tectangle/src/telemetry/pinchTelemetry.js`](September2025/Tectangle/src/telemetry/pinchTelemetry.js:1)

Acceptance criteria
- Index↔thumb pinch emits `pinch:down` and `pinch:up` reliably (palm-gated) and is visible in UI status with a knob defaulted to 8cm.
- Telemetry counter `telemetry.pinch.count` increments and a JSONL golden trace is produced for a clean session.
- Mocha unit test(s) covering PinchManager pass (e.g., [`September2025/Tectangle/tests/unit/pinchManager.behavior.test.mjs`](September2025/Tectangle/tests/unit/pinchManager.behavior.test.mjs:1)).

DECISION GRID

Explore
- Summary: Prototype a predictive early detector (Explorer) to lower perceived latency by pre-empting contacts with short TOI estimates.
- Impact: Medium
- Risk: Medium
- Effort: Hours–days
- NextStep: Prototype an Explorer filter and validate with [`September2025/Tectangle/src/LandmarkSmoothManager.js`](September2025/Tectangle/src/LandmarkSmoothManager.js:1).

Exploit (RECOMMENDED)
- Summary: Harden and use the existing deterministic pipeline (Raw → Smooth → KinematicClamp → PinchManager) as the canonical path for index↔thumb.
- Impact: High
- Risk: Low
- Effort: Hours
- NextStep: Integrate [`September2025/Tectangle/src/managers/PinchManager.js`](September2025/Tectangle/src/managers/PinchManager.js:1) as the canonical emitter and add telemetry in [`September2025/Tectangle/src/telemetry/pinchTelemetry.js`](September2025/Tectangle/src/telemetry/pinchTelemetry.js:1).

Pivot
- Summary: Replace pinch detection with a new ML classifier tuned for index↔thumb.
- Impact: High
- Risk: High
- Effort: Days–weeks
- NextStep: Collect dataset and add a golden trace in [`September2025/Tectangle/tests/golden/pinch_baseline_01.jsonl`](September2025/Tectangle/tests/golden/pinch_baseline_01.jsonl:1).

Reorient
- Summary: Move pinch confirmation to a higher-level UI step (dwell/confirm) to avoid low-level gating for now.
- Impact: Low
- Risk: Low
- Effort: Hours
- NextStep: Add a UI confirmation state and surface "pinch confidence" using [`September2025/Tectangle/src/telemetry/pinchTelemetry.js`](September2025/Tectangle/src/telemetry/pinchTelemetry.js:1).

RECOMMENDATION
- Exploit is recommended: wire the existing managers, make [`September2025/Tectangle/src/managers/PinchManager.js`](September2025/Tectangle/src/managers/PinchManager.js:1) the single source-of-truth, expose the 8cm knob, and add telemetry/golden traces.

Immediate Next Action
- [ ] Create branch `feat/pinch-mvp-20250903` and run the scoped unit tests that target the existing PinchManager (suggested test: [`September2025/Tectangle/tests/unit/pinchManager.behavior.test.mjs`](September2025/Tectangle/tests/unit/pinchManager.behavior.test.mjs:1)).

Suggested (non-mandatory) commands (for the branch author)
```
git checkout -b feat/pinch-mvp-20250903
# run the unit test file
npm test -- tests/unit/pinchManager.behavior.test.mjs
```

Timestamp (local): 2025-09-03 10:20:03 MDT  
Timestamp (UTC): 2025-09-03T16:20:03Z

— End of TODO (MVP) for 2025-09-03